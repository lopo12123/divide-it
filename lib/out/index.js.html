<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @public
 * @description Split the string into groups of n
 * @param {string} str origin string
 * @param {number} n number of characters in every group
 * @return {string[]}
 * @example
 * SI.splitByN("AaBbCcDd", 2);  // output: ["Aa", "Bb", "Cc", "Dd"]
 * SI.splitByN("AaBbCcDdE", 2);  // output: ["Aa", "Bb", "Cc", "Dd", "E"]
 */
const splitByN = (str, n = 1) => {
    if(n &lt;= 0) throw new Error('[SplitIt] "n" must be greater than zero')

    const _res = []
    for(let i = 0; i &lt; Math.ceil(str.length / n); i ++) {
        _res.push(str.slice(i * n, i * n + n))
    }
    return _res
}

/**
 * @public
 * @description Split the string into groups of [...ns]
 * @param {string} str origin string
 * @param {number[]} ns number of characters in groups(in order)
 * @param {number} rest how to divide the rest of the string
 * @return {string[]}
 * @example
 * SI.splitByNs("ABbCcc", [1,2,3]);  // output: ["A", "Bb", "Ccc"]
 * SI.splitByNs("ABbCccDd", [1,2,3,4]);  // output: ["A", "Bb", "Ccc", "Dd"]
 * SI.splitByNs("ABbCccDddd", [1,2,3]);  // output: ["A", "Bb", "Ccc", "D", "d", "d", "d"]
 * SI.splitByNs("ABbCccDddd", [1,2,3], 2);  // output: ["A", "Bb", "Ccc", "Dd", "dd"]
 */
const splitByNs = (str, ns, rest = 1) => {
    if(rest &lt;= 0) throw new Error('[SplitIt] "rest" must be greater than zero')
    if(ns.findIndex((n) => {return n &lt;= 0}) !== -1) throw new Error('[SplitIt] item in "ns" must be greater than zero')

    const _res = []
    let str_p = 0
    let ns_p = 0
    for(let i = 0; i &lt; str.length; i ++) {
        _res.push(
            str.slice(
                str_p,
                str_p + ((ns_p &lt; ns.length) ? ns[ns_p] : rest)
            )
        )
        str_p += (ns_p &lt; ns.length) ? ns[ns_p] : rest
        ns_p += (ns_p &lt; ns.length) ? 1 : 0
        i = str_p
    }
    return _res
}

/**
 * @public
 * @description Split letters and numbers
 * @param {string} str origin string
 * @param {Array&lt;'N'|'L'|'O'>} filter N: `number`, L: `letter`, O: `other` &lt;br/>
 * declare which group(s) need to be filtered out in the split process
 * @return {string[]}
 * @example
 * const str = '1jf啊j14+-啊15)4啊'
 * SI.splitByType(str)  // output: ['1', 'jf', '啊', 'j', '14', '+-啊', '15', ')', '4', '啊']
 * SI.splitByType(str, ['O'])  // output: ['1', 'jf', 'j', '14', '15', '4']
 */
const splitByType = (str, filter = []) => {
    const _res = []
    let str_p = 0
    let item_p = 1
    let last_type = N_L_O(str[0])
    for(let i = 1; i &lt; str.length; i ++) {
        // same type - continue
        if(N_L_O(str[i]) === last_type) {
            item_p += 1
        }
        // different type - divide
        else {
            // save new type and ignore then if typeName in filter
            if(!filter.includes(last_type)) {
                _res.push(str.slice(str_p, str_p + item_p))
            }
            last_type = N_L_O(str[i])
            str_p = str_p + item_p
            item_p = 1
        }
    }
    // the loop will miss the operation of pushing the last group into '_res'
    // but it still has to obey the rule of filter
    if(!filter.includes(last_type)) {
        _res.push(str.slice(str_p, str_p + item_p))
    }

    return _res
}

/**
 * @private
 * @description Determine whether a character is a number, letter or other character
 * @param {string} char the character to judge
 * @return {'N'|'L'|'O'} N: `number`, L: `letter`, O: `other`
 */
const N_L_O = (char) => {
    if(char.length !== 1) throw new Error('[SplitIt] The length of the parameter is wrong, it can only be 1')
    if(/[0-9]/.test(char)) return 'N'
    else if(/[A-Za-z]/.test(char)) return 'L'
    else return 'O'
}

module.exports = {
    splitByN,
    splitByNs,
    splitByType
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#splitByN">splitByN</a></li><li><a href="global.html#splitByNs">splitByNs</a></li><li><a href="global.html#splitByType">splitByType</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Dec 10 2021 13:06:08 GMT+0800 (中国标准时间)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
